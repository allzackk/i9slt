
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Jorivê Pereira</title>

  <meta property="og:title" content="Jorivê Pereira - Corretor de Imóveis e Perito Avaliador">


 <meta property="og:url" content="https:/i9solut.com.br/mais-seguro">
 <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
 <meta property="og:image" content="https://i.imgur.com/BaPs8Os.png" />
 <meta property="og:description" content="Jorivê Pereira, diretor executivo" />
 <meta name="theme-color" content="#fe2813">
  <meta name="description" content="Pensando em vender ou comprar o seu imóvel? Temos o melhor negócio para você! Mais + Seguros Negócios imobiliários CJ 31114">
  <meta name="keywords" content="Mais + Seguros- Negócios imobiliários">
  <meta name="robots" content="index, follow">
  
  
  

  <link rel="stylesheet" href="card_render_mobile.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Zen+Loop&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Dosis:wght@200&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Truculenta:wght@100&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=STIX+Two+Text&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Style+Script&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@1,500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
  <!-- Fonts -->

  <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://genfavicon.com/tmp/icon_4c50df9fb46859e8ffe56553bc177125.ico">
  <!-- Favicon -->

  <link href="https://cdn.jsdelivr.net/npm/all-animation@3.0.5/dist/all-animation.min.css" rel="stylesheet">
  <script type="text/javascript" src="https://goo.gl/maps/wkRytydAaLvFwwZ48"></script>

  
</head>
<body>
  
  <div
    class="card-bg"
    style="background-image:url(&quot;https://avsconstrutora.com.br/wp-content/uploads/financiamento-caixa-economica-1440x800.jpg&quot;);"
  ></div>

  <div
    class="card-container"
    style="
      background-image:url(&quot;fundo.jpg&quot;);
      background-color: null;
      background-repeat: repeat;
    "
  >
      
      <div
        class="hide-on-large logo center"
        style="
          margin-top: 0px;
          margin-bottom: 0px;
        "
      >
        <img class="" src="pack-3.png" style="width: 100%">
      </div>

      <div style="font-family:&#39;Merriweather&#39;, serif !important" class="">
          <div class="profile" style="background-color: rgba(175,174,174,0.1)">
              <div class="photo" style="
                background-image: url('https://i.imgur.com/RETG1hx.png');
                background-size: cover;
                background-repeat: no-repeat;
                background-position: center;
                object-fit: cover;
                width:294px;
                height:294px;
                border-radius: 50%;
              "></div>
            <div class="info">
                <h2 style="color: #004b10; font-size: 34px">Jorivê Pereira</h2>
                <p style="color: #29438a; font-size: 30px">Corretor de Imóveis e Perito Avaliador</p>
            </div>
          </div>
      </div>

      <div
        class="lead "
        style="
          background-color: rgba(41, 67, 138);
          color: #f58220;
          font-size: 24px;
          font-family: &#39;Cinzel&#39;, serif;
          margin-top: 0px;
          margin-bottom: 0px;
        "
      >
        Negócios Imobiliários <br> CJ 31114
      </div>




      <div
        class="
          buttons
          
          
        "
        style="
          margin-top: 60px;
          margin-bottom: 0px;
        "
      >
          <a
            href="tel:6230937686"
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 4px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    phone
                    
                  "
                ></span>
                <span class="label" style="float: null">
                  Telefone + Seguro
                </span>
              </div>
          </a>
		  <a
            href="tel:62994264456"
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 4px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    phone
                    
                  "
                ></span>
                <span class="label" style="float: null">
                  Telefone Pessoal
                </span>
              </div>
          </a>
		  <a
            href="https://api.whatsapp.com/send/?phone=556283432760"
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 4px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    whatsapp
                    
                  "
                ></span>
                <span class="label" style="float: null">
                  WhatsApp +Seguro
                </span>
              </div>
          </a>
		  <a
            href="https://api.whatsapp.com/send/?phone=556294264456"
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 4px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    whatsapp
                    
                  "
                ></span>
                <span class="label" style="float: null">
                 WhatsApp Pessoal
                </span>
              </div>
          </a>
		  <a
            href="https://www.facebook.com/Mais-seguro-negócios-imobiliários-104149788481352/?ref=pages_you_manage"
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 4px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    facebook
                    
                  "
                ></span>
                <span class="label" style="float: null">
                  Facebook + Seguro
                </span>
              </div>
          </a>
		  <a
            href="https://www.facebook.com/jorive.pereira.9"
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 4px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    facebook
                    
                  "
                ></span>
                <span class="label" style="float: null">
                  Facebook Pessoal
                </span>
              </div>
          </a>
		  
          
          <a
            href="https://www.instagram.com/seguro.mais/"
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 4px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    instagram
                    
                  "
                ></span>
                <span class="label" style="float: null">
                  Instagram +Seguro
                </span>
              </div>
          </a>
          <a
            href="https://instagram.com/jorivepereiradossantos
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 4px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    instagram
                    
                  "
                ></span>
                <span class="label" style="float: null">
                  Instagram Pessoal
                </span>
              </div>
          </a>
          <a
            href="mailto:maisseguroimobiliaria@gmail.com"
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 4px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    email
                    
                  "
                ></span>
                <span class="label" style="float: null">
                  Email
                </span>
              </div>
          </a>
          <a
            href="https://goo.gl/maps/wkRytydAaLvFwwZ48"
            class="large"
            target="_blank"
            style="
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(41, 67, 138);
              color: #FFFFFF;
              pera;
              padding: 04px;
            "
          >
              <div
                style="
                  border-radius: 12px;
                  height: 100%;
                    border: 2px solid #FFF;
                "
              >
                <span
                  style="color: #FFF"
                  class="
                    icon
                    address
                    
                  "
                ></span>
                <span class="label" style="float: null">
                  Localização
                </span>
              </div>
          </a>
      </div>






      <div class="products">
            <div
              class="product"
              style="
                color:#29438a !important;
                background-color:rgba(239,228,228,0.37);
                font-family: &#39;Cinzel&#39;, serif;
              "
            >
              <div class="product-inner position-center size-large">
                  <div class="image">
                    <img src="logo-fundo-prata.png">
                  </div>
              </div>
                <div class="description only-on-large" style="font-size: 30px; text-align: CENTER;">
                  CASAS   <br> ÁREAS<br />
SOBRADOS  <br>  FAZENDAS<br />
CONDOMINIOS  <br>CHÁCARAS<br />
APARTAMENTOS <br> SÍTIOS<br><br>
                </div>
                <div class="description hide-on-large" style="font-size: calc(38px * 0.55); text-align: center;">
                  CASAS   <br> ÁREAS<br />
SOBRADOS  <br>  FAZENDAS<br />
CONDOMINIOS  <br>CHÁCARAS<br />
APARTAMENTOS <br> SÍTIOS
                </div>
                <a
                  href=https://wa.me/556294264456
                  target="_blank"
                  style="
                    background-color:rgba(41, 67, 138);
                    color: #ffffff;
                  "
                >
                    Consulte agora mesmo!
                </a>
            </div>
      </div>
<div class="products">
            <div
              class="product"
              style="
                color:#004b10 !important;
                background-color:rgba(239,228,228,0.37);
                font-family: &#39;Cinzel&#39;, serif;
              "
            >
              <div class="product-inner position-center size-large">
                  <div class="image">
                    <img src="https://logodownload.org/wp-content/uploads/2020/12/casa-verde-e-amarela-logo.png"><br><br> <img src="pack-8.png"><br> <br><img src="pack-9.png">
                  </div>
              </div>
                <a
                  href=https://wa.me/556294264456
                  target="_blank"
                  style="
                    background-color:rgba(41, 67, 138);
                    color: #ffffff;
                  "
                >
                    USE O SEU FGTS E GANHE SUBSÍDIO
                </a>
            </div>
      </div>
	  <div class="videos">
            <div class="video-title" style="
              font-size: 30px;
              font-family: Arial, Helvetica, sans-serif;
              background-color: rgba(255,255,255,0);
              color: rgba(0,0,0,0);"
            >
              Aperte o play
            </div>

            <iframe id="player"
              width="100%"
              height="315"
              frameborder="0"
              allowfullscreen
              src="https://www.youtube.com/embed/xLs596YqWvU">
            </iframe>
      </div>

     <div style="min-height: 20px">
      </div>

      <div
        class="footer-text-box right"
        style="background-color:rgba(90,8,8,0.09);"
      >
        <p style="color: rgba(255,255,255); font-size: 16px; font-family: Arial, Helvetica, sans-serif">
            Criado Por
              <a
                style="color: #ffffff"
                class="footer-link"
                href="https://api.whatsapp.com/send?phone=556292485461"
              >
                I9 Solut
              </a>
        </p>
      </div>
  </div>

  <div id="wpp-cart" class="wpp-cart-box">
    <div class="wpp-cart-title">
      <h2>Seu carrinho</h2>
      <svg onclick="javascript:void(minimizeWppCart());" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 6L15 12L9 18" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>

    <div id="wpp-cart-products"></div>

    <p id="cart-total">
      Total: R$ <span></span>
    </p>

    <a
      href="javascript:void(openModal());"
      class="wpp-cart-finish-btn"
    >
      Enviar pedido
    </a>
  </div>

  <a
    href="javascript:void(increaseWppCart());"
    id="wpp-cart-minimized"
    style="
      top: 80px;
      background-color: #FFFFFF;
    "
  >
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M6 23C6.55228 23 7 22.5523 7 22C7 21.4477 6.55228 21 6 21C5.44772 21 5 21.4477 5 22C5 22.5523 5.44772 23 6 23Z" fill=#000000 />
      <path d="M20 23C20.5523 23 21 22.5523 21 22C21 21.4477 20.5523 21 20 21C19.4477 21 19 21.4477 19 22C19 22.5523 19.4477 23 20 23Z" fill=#000000 />
      <path d="M6 23C6.55228 23 7 22.5523 7 22C7 21.4477 6.55228 21 6 21C5.44772 21 5 21.4477 5 22C5 22.5523 5.44772 23 6 23Z" stroke=#000000  stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M20 23C20.5523 23 21 22.5523 21 22C21 21.4477 20.5523 21 20 21C19.4477 21 19 21.4477 19 22C19 22.5523 19.4477 23 20 23Z" stroke=#000000  stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M4.8 7H22L20 17H6L4 2H1" stroke=#000000 stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>

  <div id="cart-info-modal-bg">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Informações do carrinho</h2>
        <a
          href="javascript:void(closeModal());
          "class="close"
        >
          X
        </a>
      </div>
      <div class="modal-body">
        <form
          id="wpp-cart-form"
          class="cart-info-form"
          onsubmit="event.preventDefault(); redirectToWpp()"
        >


          <div class="form-group form-row">
            <div class="col-12">
              <label for="name">
                Nome: <span class="required">*</span>
              </label>
              <input id="name" type="text" class="form-control mt-2" required>
            </div>
          </div>

          <div class="form-group form-row">
            <div class="col-12">
              <label for="phone">
                Telefone:  <span class="required">*</span>
              </label>
              <input id="phone" type="text" class="form-control mt-2" required>
            </div>
          </div>

          <div>
            <label for="paymentType">Forma de Pagamento:</>
            <select id="paymentType">
                <option value="Pix">Pix</option>
                <option value="Boleto">Boleto</option>
                <option value="Na entrega">Na entrega</option>
                <option value="Cartão de Crédito">Cartão de Crédito</option>
                <option value="Cartão de Débito">Cartão de Débito</option>
            </select>
          </div>
          <div>
            <label for="extraInfo">Observações:</>
            <textarea id="extraInfo" rows="5" cols="33"></textarea>
          </div>

          <div>
            <label for="deliveryType">Forma de Entrega:</>
            <select id="deliveryType" >
                <option value="Endereço">
                  Endereço
                </option>
              <option value="No Local">
                No local
              </option>
            </select>
          </div>

          <div id="delivery-local-div" class="form-group form-row mt-2 ">
            <div class="col-12">
                <label for="delivery-local">
                    Informação da mesa
                </label>
                <input id="delivery-local" type="text" class="form-control mt-2">
            </div>
          </div>

            <div id="delivery-address-div">
              <div class="form-group">
                <label for="zipCode">
                  CEP: <span class="required">*</span>
                </label>
                <div class="input-group mt-2">
                  <input
                    id="zipCode"
                    type="text"
                    class="form-control without-border-right"
                    maxlenght="8"
                    required
                  >
                  <button
                    type="button"
                    id="search-zip-code"
                    class="btn btn-primary input-group-append without-border-left"
                    onclick="searchZipCodeInfo()"
                  >
                    Pesquisar
                  </button>
                </div>
              </div>



                <div class="form-group form-row mt-2">
                    <div class="col-sm-6">
                    <label for="street">
                    Logradouro: <span class="required">*</span>
                    </label>
                    <input id="street" type="text" class="form-control mt-2" required>
                </div>

                <div class="col-sm-6 mt-sm-2">
                  <label for="street-number">
                    Número: <span class="required">*</span>
                  </label>
                  <input id="street-number" type="number" class="form-control mt-2" required>
                </div>
                </div>


                <div class="form-group form-row mt-2">


                <div class="col-sm-6">
                    <label for="street-complement">
                    Complemento:
                    </label>
                    <input id="street-complement" type="text" class="form-control mt-2">
                </div>


                <div class="col-sm-6 mt-sm-2">
                    <label for="district">
                    Bairro: <span class="required">*</span>
                    </label>
                    <input id="district" type="text" class="form-control mt-2" required>
                </div>

                </div>

                <div class="form-group form-row mt-2">
                  <div class="col-sm-6">
                    <label for="state">
                      Estado: <span class="required">*</span>
                    </label>
                    <input id="state" type="text" class="form-control mt-2" required>
                  </div>



                <div class="col-sm-6 mt-sm-2">
                    <label for="city">
                    Cidade: <span class="required">*</span>
                    </label>
                    <input id="city" type="text" class="form-control mt-2" required>
                </div>


                </div>
            </div>
        </form>
      </div>
      <div class="modal-footer">
        <button
          type="submit"
          form="wpp-cart-form"
          id="send-order"
          class="btn btn-primary"
        >
          Enviar pedido
        </button>
      </div>
    </div>
  </div>

  <div id="product-complements-modal-bg" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Complementos
          <p class="maxComplementos" style="color: red;
          font-weight: 700;
          font-size: 13px;
          margin-top: 7px;
          margin-bottom: 7px;
          display: none">(!) Atingiu a quantidade máxima de complementos.</p>
        </h2>
        <a
          href="javascript:void(closeComplementsModal());
          "class="close"
        >
          X
        </a>
      </div>
      <div class="modal-body">
        <div class="complements"></div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          id="send-order"
          class="btn btn-primary"
          onclick="closeComplementsModal()"
        >
          Continuar compra
        </button>
      </div>
    </div>
  </div>

  <div id="cart-close">
    <div class="modal-content">
      <div class="modal-body">
        <div id="opening-hours">
          <h1 style="color: undefined">
            A loja está fechada
          </h1>

          <br/><br/>

          <h2>
            Horário de funcionamento
          </h2>
          <br/>
        </div>
      </div>
    </div>
  </div>


  <script type="text/javascript">
    const urlParams = new URLSearchParams(window.location.search);
    const hideScrollbar = urlParams.get('hideScrollbar');

    if (hideScrollbar) {
      document.body.classList.add('hide-scrollbar')
    }
  </script>

  <script type="text/javascript">
    const productsOfCard = [
  {
    "id": 87124,
    "card_id": 16677,
    "title": "Nossos Serviços:",
    "price": null,
    "link": "https://api.whatsapp.com/send?phone=556295209548",
    "description": "► Crédito na conta de luz\n► Crédito consignado\n► Saque FGTS\n► Empréstimo no cartão de crédito",
    "image": "",
    "created_at": "",
    "updated_at": "",
    "text_color": "#ffffff",
    "background_color": "rgba(239,228,228,0.37)",
    "button_text": "Agendamento Aqui",
    "image_size": "large",
    "image_position": "center",
    "button_color": "rgba(0,75,16,1.00)",
    "position": 1,
    "card_wrapper_id": null,
    "font_family": "'Cinzel', serif",
    "title_font_size": 40,
    "price_font_size": 30,
    "description_font_size": 38,
    "title_position": "left",
    "description_position": "left",
    "show_link_button": true,
    "where_open_link": "_blank",
    "image_button": null,
    "category_name": null,
    "button_text_color": "#ffffff",
    "disable_cart": false,
    "product_complements_qty": null,
    "disable_product": false,
    "image_url": "https://i.imgur.com/cnKei6X.png",
    "image_button_url": null,
    "productComplements": []
  }
]
    const cartTranslation = {
  "cartModalTitle": "Seu carrinho",
  "cartModalFinishButtonText": "Enviar pedido",
  "cartModalFinishLoadingButtonText": "Enviando pedido",
  "cartFinishModalTitle": "Informações do carrinho",
  "cardNameInputLabel": "Nome:",
  "cardPhoneInputLabel": "Telefone: ",
  "cardPaymentTypeInputLabel": "Forma de Pagamento:",
  "cardExtraInfoInputLabel": "Observações:",
  "cardDeliveryTypeInputLabel": "Forma de Entrega:",
  "cardDeliveryTotalPriceLabel": "Valor da Entrega",
  "cardDeliveryPriceMessageLabel": "Entrega",
  "cardDeliveryAddressOptionInputLabel": "Endereço",
  "cardDeliveryPlaceOptionInputLabel": "No local",
  "cardDeliveryPlaceInformationInputLabel": "Informação da mesa",
  "cardZipCodeInputLabel": "CEP:",
  "cardSearchZipCodeButtonText": "Pesquisar",
  "cardStreetInputLabel": "Logradouro:",
  "cardStreetNumberInputLabel": "Número:",
  "cardStreetComplementInputLabel": "Complemento:",
  "cardDistrictInputLabel": "Bairro:",
  "cardStateInputLabel": "Estado:",
  "cardCityInputLabel": "Cidade:",
  "cardCalculateDeliveryPriceButtonText": "Calcular Entrega",
  "cardMaxComplements": "Atingiu a quantidade máxima de complementos.",
  "cardFinishButtonText": "Enviar pedido",
  "extraInfoDefault": "Nenhuma",
  "noInformation": "Não informado",
  "complementTitle": "Complementos",
  "complementContinueAction": "Continuar compra",
  "closeTitle": "A loja está fechada",
  "openingHoursTitle": "Horário de funcionamento",
  "hoursConnective": "às ",
  "cardName": "Nome:",
  "cardComplement": "Complemento:",
  "cardAmount": "Quantidade:",
  "cardPrice": "Valor:",
  "cardDesk": "Mesa: ",
  "cardOrder": "Pedido",
  "language": "pt-br"
}
    const cardRender = {
  "id": 1412,
  "language": "pt-br",
  "currency": "R$",
  "cart": {}
}

    const productsWrappers = []
    const productsInWrappers = [];

    productsWrappers.forEach(el => productsInWrappers.push(...el.products.flat()))

    const products = [...productsOfCard,...productsInWrappers]

    const freights = ""
    if(freights.type == "fixed" && freights.active == true) {
      //var freightsPriceFixed = convertToCurrency(freights.price)
      document.getElementById('freights-price').innerText = cartTranslation.cardDeliveryTotalPriceLabel + " " + convertToCurrency(freights.price);
    }

    const wppCartPhone = null
    let wppCart = [];
    let totalPrice = 0;
    let oldAmountComplement = 0;
    let oldAmountComplementArray = [];

    function generateId() {
      return parseInt(new Date().getTime() / 100, 10);
    }

    function minimizeWppCart() {
      document.getElementById('wpp-cart').classList.remove('show');
      document.getElementById('wpp-cart-minimized').classList.add('show');
    }

    function increaseWppCart() {
      document.getElementById('wpp-cart').classList.add('show');
      document.getElementById('wpp-cart-minimized').classList.remove('show');
    }

    function addToWppCart(productId, addByComplement, cartItemIdByComplements) {
      const cartItemId = cartItemIdByComplements ? cartItemIdByComplements : generateId();
      const product = products.find(product => product.id === productId);

      totalPrice += product.price
        ? parseFloat(product.price.replace(/,/g, '.'))
        : 0

      const productIndexInCart = product.productComplements.length > 0
        ? wppCart.findIndex(product => product.id === productId)
        : wppCart.findIndex(product => product.productId === productId);

      if (productIndexInCart !== -1) {
        const wppCartContent = { ...wppCart[productIndexInCart] }

        wppCart[productIndexInCart] = {
          ...wppCartContent,
          price: parseFloat(wppCartContent.price) + parseFloat(product.price),
          amount: wppCartContent.amount + 1
        }
      } else {
        const newCartItem = {
          ...product,
          productId: product.id,
          id: cartItemId,
          amount: 1,
        }

        if (product.price > 0 || addByComplement == true) {
          wppCart.push(newCartItem)
        }
      }

      if ((wppCart.length === 1 && product.price > 0) || addByComplement == true) {
        document.getElementById('wpp-cart').classList.add('show')
      }

      renderWppCart();

      return cartItemId
    }

    function removeToWppCart(productId) {
      const productIndexInCart = wppCart.findIndex(product => product.id === productId);

      wppCart[productIndexInCart].price = typeof wppCart[productIndexInCart].price === 'string' ? parseFloat(wppCart[productIndexInCart].price.replace(/,/g, '.')) : parseFloat(wppCart[productIndexInCart].price)

      totalPrice -= wppCart[productIndexInCart].price
        ? wppCart[productIndexInCart].price / wppCart[productIndexInCart].amount
        : 0

      wppCart[productIndexInCart].price -= wppCart[productIndexInCart].price / wppCart[productIndexInCart].amount;

      if (wppCart[productIndexInCart].choosedProductComplements) {
        wppCart[productIndexInCart].choosedProductComplements.forEach(productComplement => {
          totalPrice -= productComplement.price
            ? parseFloat(productComplement.price.replace(/,/g, '.')) * productComplement.amount
            : 0
        })
      }

      if (wppCart[productIndexInCart].amount > 1) {
        wppCart[productIndexInCart] = {
          ...wppCart[productIndexInCart],
          amount: wppCart[productIndexInCart].amount - 1
        }
      } else {
        wppCart = wppCart.filter(el => el.id !== productId);
      }

      if (wppCart.length === 0) document.getElementById('wpp-cart').classList.remove('show')

      renderWppCart();
    }

    function addProductComplementToWppCart(cartItemId, productId, productComplementId, complementAmountInput)
    {
      const product = products.find(product => product.id === productId);

      if(getWppQuantiy(product)) {
        const productComplement = product.productComplements.find(productComplement => productComplement.id === productComplementId)
        if(wppCart.findIndex(product => product.productId === productId && product.id === cartItemId) === -1){
          cartItemId = addToWppCart(productId, true, cartItemId)
        }

        const cartItemIndex = wppCart.findIndex(item => item.id === cartItemId);

        const alreadyHasThisProductComplement = wppCart[cartItemIndex].choosedProductComplements
          && wppCart[cartItemIndex].choosedProductComplements.map(el => el.id).includes(productComplement.id)

        if (alreadyHasThisProductComplement) {
          const updatedChoosedProductComplements = wppCart[cartItemIndex].choosedProductComplements.map(productComplement => {
            if (productComplement.id === productComplementId) {
              complementAmountValue = complementAmountInput == true ? document.getElementById("productComplement"+productComplement.id).value : parseInt(productComplement.amount) + 1;
              return {
                ...productComplement,
                amount: complementAmountValue,
              };
            }
            return productComplement;
          })

          document.getElementById("productComplement"+productComplement.id).value = updatedChoosedProductComplements.find(x => x.id === productComplement.id).amount;
          wppCart[cartItemIndex] = {
              ...wppCart[cartItemIndex],
              choosedProductComplements: updatedChoosedProductComplements,
          }
        } else {
          if(!wppCart[cartItemIndex].choosedProductComplements){
            oldAmountComplementArray = [];
          }
          const itemCartContent = { ...wppCart[cartItemIndex] }
          complementAmountValue = complementAmountInput == true ? document.getElementById("productComplement"+productComplement.id).value : 1;
          document.getElementById("productComplement"+productComplement.id).value = complementAmountValue;
          wppCart[cartItemIndex] = {
              ...itemCartContent,
              choosedProductComplements: itemCartContent.choosedProductComplements
              ? [...itemCartContent.choosedProductComplements, { ...productComplement, amount: complementAmountValue }]
              : [{ ...productComplement, amount: complementAmountValue }],
          }
        }

        if(complementAmountValue){
          let find = alreadyHasThisProductComplement != null ? oldAmountComplementArray.find(x => x.id === productComplementId) : null;
          oldAmountComplement = find ? find.amount : 0;
          nm = productComplement.price ? parseFloat(productComplement.price.replace(/,/g, '.')) * complementAmountValue : 0
          if(oldAmountComplement > nm && oldAmountComplement != 0){
            totalPrice -= oldAmountComplement;
            totalPrice += nm;
            //totalPrice -= oldAmountComplement - nm;
            newAmount = nm
            oldAmountComplement = 0;
          }
          else {
            newAmount = nm;
            totalPrice -= oldAmountComplement;
            totalPrice += newAmount;
            oldAmountComplement = 0;
          }
          oldAmountComplement+=newAmount;

          if(!find){
            oldAmountComplementArray.push({amount: oldAmountComplement, id: productComplementId});
          }
          else {
            find.amount = oldAmountComplement;
          }
        }
        else {
          totalPrice += productComplement.price ? parseFloat(productComplement.price.replace(/,/g, '.')) : 0
        }

        renderWppCart();
      }
    }

    function decProductComplementToWppCart(cartItemId, productId, productComplementId)
    {
      const product = products.find(product => product.id === productId);
      const productComplement = product.productComplements.find(productComplement => productComplement.id === productComplementId)
      const cartItemIndex = wppCart.findIndex(item => item.id === cartItemId);
      const complMessage = document.querySelector("p.maxComplementos");
      complMessage.style.display = "none";

      const alreadyHasThisProductComplement = wppCart[cartItemIndex].choosedProductComplements
      && wppCart[cartItemIndex].choosedProductComplements.map(el => el.id).includes(productComplement.id)

      let find = oldAmountComplementArray.find(x => x.id === productComplementId);

      if (alreadyHasThisProductComplement) {
        if(document.getElementById("productComplement"+productComplementId).value > 1){
          find.amount -= productComplement.price;

          const updatedChoosedProductComplements = wppCart[cartItemIndex].choosedProductComplements.map(productComplement => {
            if (productComplement.id === productComplementId) {
              return {
                ...productComplement,
                amount: productComplement.amount - 1,
              };
            }
            return productComplement;
          });

          document.getElementById("productComplement"+productComplement.id).value =           document.getElementById("productComplement"+productComplement.id).value = updatedChoosedProductComplements.find(x => x.id === productComplement.id).amount;
          wppCart[cartItemIndex] = {
              ...wppCart[cartItemIndex],
              choosedProductComplements: updatedChoosedProductComplements,
          }
        }
        else {
          document.getElementById("productComplement"+productComplement.id).value = 0;
          find.amount = 0;
          removeProductComplementToWppCart(cartItemId, productComplementId)
        }
      }

      if(document.getElementById("productComplement"+productComplement.id).value > 0) {
        totalPrice -= productComplement.price
        ? parseFloat(productComplement.price.replace(/,/g, '.'))
        : 0
        renderWppCart();
      }
    }

    function getWppQuantiy(product)
    {
      const productProduct = product;
      let sumComplementsSelected = 0;
      let maxComplementOfProduct = productProduct.product_complements_qty;
      let itensCount = document.querySelectorAll(".complement-wrapper input");
      let complMessage = document.querySelector("p.maxComplementos");

      itensCount.forEach(index => {
        sumComplementsSelected += parseInt(index.value);
      });

      if(maxComplementOfProduct != null && (maxComplementOfProduct <= sumComplementsSelected)) {
        complMessage.style.display = "block";
        return false;
      }

      complMessage.style.display = "none";
      return true;
    }

    function removeProductComplementToWppCart(cartItemId, productComplementId) {
        const cartItemIndex = wppCart.findIndex(product => product.id === cartItemId);

        const productComplementToRemove = wppCart[cartItemIndex]
        .productComplements
        .find(productComplement => productComplement.id === productComplementId);

        wppCart[cartItemIndex] = {
        ...wppCart[cartItemIndex],
        choosedProductComplements: wppCart[cartItemIndex].choosedProductComplements.map(el => {
            if (el.id === productComplementId) {
            if (el.amount > 1) {
                return {
                ...el,
                amount: el.amount - 1,
                }
            }

            return null;
            }

            return el;
        }).filter(el => el)
        }

        if(productComplementToRemove.price != null){
          totalPrice -= parseFloat(productComplementToRemove.price.replace(/,/g, '.'))
        }
        renderWppCart();
    }

    function openProductComplements(productId)
    {
      const cartItemId = addToWppCart(productId);
      const product = products.find(product => product.id === productId);
      let complMessage = document.querySelector("p.maxComplementos");

      complMessage.style.display = "none";

      openComplementsModal({
        cartItemId,
        productComplements: product.productComplements
      });
    }

    function getProductTitleLength(product) {
        if (!product.title) return product.amount + 'x Produto sem titulo'

        if (product.title.length > 25) {
        return product.amount + 'x ' + product.title.slice(product.title.length - 5) + '...';
        }

        return product.amount + 'x ' + product.title;
    }

    function createCartItem({ cartItem }) {
        const titleElement = document.createElement('p');
        const titleText = document.createTextNode(getProductTitleLength(cartItem));
        titleElement.appendChild(titleText);

        const xElement = document.createElement('a');
        const xText = document.createTextNode('x');
        xElement.appendChild(xText);
        xElement.href = 'javascript:void(removeToWppCart(' + cartItem.id + '));';

        const infoDiv = document.createElement('div');
        infoDiv.append(titleElement);

        if (cartItem.choosedProductComplements) {
        cartItem.choosedProductComplements.forEach(productComplement => {
            const complementsInfoDiv = document.createElement('div');
            complementsInfoDiv.classList.add('product-complements-in-cart');

            const complementTitle = document.createElement('p');
            complementTitle.innerText = getProductTitleLength(productComplement);

            const xComplementElement = document.createElement('a');
            xComplementElement.innerText = 'x';
            xComplementElement.href = 'javascript:void(removeProductComplementToWppCart('
            + cartItem.id
            + ','
            + productComplement.id
            + '));';

            complementsInfoDiv.append(complementTitle);
            complementsInfoDiv.append(xComplementElement);

            infoDiv.append(complementsInfoDiv);
        });
        }

        const divElement = document.createElement('div');
        divElement.appendChild(infoDiv)
        divElement.appendChild(xElement)
        divElement.classList.add('product-in-cart')

        document.getElementById('wpp-cart-products').appendChild(divElement);
    }

    function createTotalElement() {
        document.querySelector('#cart-total span').innerHTML = totalPrice
        .toFixed(2)
        .split('.')
        .join(',');
    }

    function renderWppCart() {
        document.getElementById('wpp-cart-products').innerHTML = '';

        wppCart.forEach(cartItem => createCartItem({ cartItem }))

        createTotalElement()
    }

    function openModal() {
        document.getElementById('wpp-cart').classList.toggle('show')
        document.getElementById('cart-info-modal-bg').classList.toggle('show')
        document.documentElement.style.overflow = 'hidden';
    }

    function closeModal() {
        document.getElementById('wpp-cart').classList.toggle('show')
        document.getElementById('cart-info-modal-bg').classList.toggle('show')
        document.documentElement.style.overflow = 'auto';
    }

    function createComplementElement({ cartItemId, productComplement }) {
        const complementWrapperDiv = document.createElement('div');
        complementWrapperDiv.classList.add('complement-wrapper');

        const complementInfoDiv = document.createElement('div');

        const complementInfoTitleP = document.createElement('p');
        complementInfoTitleP.innerText = productComplement.title;

        const complementInfoDescriptionP = document.createElement('p');
        complementInfoDescriptionP.innerText = productComplement.description;

        const complementInfoPriceP = document.createElement('p');
        complementInfoPriceP.innerText = productComplement.price;

        complementInfoDiv.append(complementInfoTitleP);
        complementInfoDiv.append(complementInfoDescriptionP);
        complementInfoDiv.append(complementInfoPriceP);

        complementWrapperDiv.append(complementInfoDiv);

        const complementRemove = document.createElement('a');
        complementRemove.setAttribute("class", "minusComplement");
        complementRemove.innerHTML = '-'
        complementRemove.href = 'javascript:void(decProductComplementToWppCart('+ cartItemId + ',' + productComplement.product_id + ',' + productComplement.id + '))';

        const complementAmount = document.createElement("INPUT");
        complementAmount.setAttribute("type", "text");
        complementAmount.setAttribute("id", "productComplement" + productComplement.id);
        complementAmount.value = 0;
        complementAmount.onclick = function () {
          complementAmount.setAttribute('onkeyup','addProductComplementToWppCart('+ cartItemId + ',' + productComplement.product_id + ',' + productComplement.id + ',' + true + ')');
        };
        complementAmount.onblur = function () {
          const product = products.find(product => product.id === productComplement.product_id);
          const maxComplementOfProduct = product.product_complements_qty;
          ifResetQuantityOfComplements(product, maxComplementOfProduct, complementAmount);
        };
        complementAmount.oninput = function () {
          const product = products.find(product => product.id === productComplement.product_id);
          const maxComplementOfProduct = product.product_complements_qty;
          ifResetQuantityOfComplements(product, maxComplementOfProduct, complementAmount);
        };

        const complementAddA = document.createElement('a');
        complementAddA.setAttribute("class", "plusComplement");
        complementAddA.innerHTML = '+'
        complementAddA.href = 'javascript:void(addProductComplementToWppCart('+ cartItemId + ',' + productComplement.product_id + ',' + productComplement.id + '))';

        complementWrapperDiv.append(complementRemove);
        complementWrapperDiv.append(complementAmount);
        complementWrapperDiv.append(complementAddA);

        document.querySelector('.complements').append(complementWrapperDiv);
    }

    function ifResetQuantityOfComplements(product, max, compl)
    {
      const productProduct = product;
      let sumComplementsSelected = 0;
      let maxComplementOfProduct = max;
      let itensCount = document.querySelectorAll(".complement-wrapper input");
      let complMessage = document.querySelector("p.maxComplementos");

      itensCount.forEach(index => {
        sumComplementsSelected += parseInt(index.value);
      });

      sessionStorage.setItem('complId', compl.id);
      sessionStorage.setItem('complVal', compl.value);

      if(sumComplementsSelected > maxComplementOfProduct) {
        const idComplement = document.getElementById(compl.id);
        idComplement.value = 0;
        complMessage.style.display = "block";
      }
    }

    function convertToCurrency(value) {
      const currentCurrency = cardRender.currency === 'R$' ? 'BRL' : cardRender.currency === '$' ? 'USD' : 'EUR'

      return parseFloat(value || 0).toLocaleString(cardRender.language, {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2,
        style: 'currency',
        currency: currentCurrency
      })
    }

    function openComplementsModal({ cartItemId, productComplements }) {
      // Clear all child of complements
      document.querySelector('.complements').innerHTML = '';

      // Create all complements
      productComplements.forEach(productComplement => createComplementElement({
        cartItemId,
        productComplement,
      }))

      document.getElementById('product-complements-modal-bg').classList.toggle('show')
      document.documentElement.style.overflow = 'hidden';
    }

    function closeComplementsModal() {
      document.getElementById('product-complements-modal-bg').classList.toggle('show')
      document.documentElement.style.overflow = 'auto';
    }

    // ZipCode MASK

    const inputZipCodeElement = document.getElementById('zipCode');
    const zipCodeButtonElement = document.getElementById('search-zip-code');
    const streetElement = document.getElementById('street');
    const streetNumberElement = document.getElementById('street-number');
    const streetComplementElement = document.getElementById('street-complement');
    const districtElement = document.getElementById('district');
    const cityElement = document.getElementById('city');
    const stateElement = document.getElementById('state');

    function ZipCodeMask (zipCode) {
      let sanitizedZipCode = zipCode
        .replace(/[^0-9.]+/g, '')
        .replace(/D/g, '')
        .replace(/-/g, '');

      if (sanitizedZipCode.length === 8) {
        sanitizedZipCode = sanitizedZipCode.substring(0, 5) + '-' + sanitizedZipCode.substring(5);
      } else if (sanitizedZipCode.length > 8) {
        sanitizedZipCode = sanitizedZipCode.substring(0, 5) + '-' + sanitizedZipCode.substring(5, 8);
      }

      inputZipCodeElement.value = sanitizedZipCode
    }

    if (inputZipCodeElement) {
      inputZipCodeElement.addEventListener('input', (e) => ZipCodeMask(e.target.value))
    }

    // ZipCode MASK

    function getZipCodeInBrasilAPI(zipCode) {
      return new Promise((resolve, reject) => {
        fetch('https://brasilapi.com.br/api/cep/v1/' + zipCode)
          .then(response => response.json())
          .then(data => resolve(data))
          .catch(error => reject(error));
      });
    }

    async function searchZipCodeInfo() {
      const zipCode = inputZipCodeElement.value;

      if (zipCode.length !== 9) return;

      zipCodeButtonElement.disabled = true;
      zipCodeButtonElement.innerText = 'Pesquisando...';
      zipCodeButtonElement.style.opacity = 0.45;
      zipCodeButtonElement.style.cursor = 'not-allowed';

      const {
        city,
        neighborhood,
        state,
        street,
      } = await getZipCodeInBrasilAPI(zipCode);

      streetElement.value = street;
      districtElement.value = neighborhood;
      cityElement.value = city;
      stateElement.value = state;

      zipCodeButtonElement.disabled = false;
      zipCodeButtonElement.innerText = 'Pesquisar';
      zipCodeButtonElement.style.opacity = 1;
      zipCodeButtonElement.style.cursor = 'auto';
    }

    function getProductComplementText({ itemCart }) {
      if (!itemCart.choosedProductComplements) return '';

      let productComplementText = '';

      itemCart.choosedProductComplements.forEach(productComplement => {
        const parsedFloat = parseFloat(productComplement.price || 0)
        const totalProductComplementPrice = productComplement.amount * parsedFloat;

        productComplementText += '   ' + cartTranslation.cardComplement + ' *' + productComplement.title+ '*%0a'
          + '   ' + cartTranslation.cardAmount + ' *' + productComplement.amount + '*%0a'
          + '   ' + cartTranslation.cardPrice + ' *' + convertToCurrency(totalProductComplementPrice) + '*%0a%0a';
      });

      return productComplementText;
    }

    function getOrderText() {
      let orderText = '';

      wppCart.forEach((itemCart) => {
        if(itemCart.price > 0){
          orderText += cartTranslation.cardName + ' *' + (itemCart.title || 'Produto sem título') + '*%0a'
            + cartTranslation.cardAmount + ' *' + itemCart.amount + '*%0a'
            + cartTranslation.cardPrice + ' *' + convertToCurrency(itemCart.price) + '*%0a%0a'
            + getProductComplementText({ itemCart })
        }
        else {
          orderText += cartTranslation.cardName + ' *' + (itemCart.title || 'Produto sem título') + '*%0a'
            + cartTranslation.cardAmount + ' *' + itemCart.amount + '*%0a%0a'
            + getProductComplementText({ itemCart })
        }
      })

      return orderText;
    }

    const deliveryTypeElement = document.getElementById('deliveryType');
    const deliveryLocalDivElement = document.getElementById('delivery-local-div');
    const deliveryAddressDivElement = document.getElementById('delivery-address-div');
    const deliveryLocalInputElement = document.getElementById('delivery-local');

    if (deliveryTypeElement) {
      deliveryTypeElement.addEventListener('change', (evt) => {
        if (evt.target.value === 'Endereço') {
          deliveryAddressDivElement.classList.remove('d-none');
          deliveryLocalDivElement.classList.add('d-none');

          deliveryLocalInputElement.value = null;
          deliveryLocalInputElement.removeAttribute('required');

          inputZipCodeElement.setAttribute('required', true);
          streetElement.setAttribute('required', true);
          streetNumberElement.setAttribute('required', true);
          streetComplementElement.setAttribute('required', true);
          districtElement.setAttribute('required', true);
          cityElement.setAttribute('required', true);
          stateElement.setAttribute('required', true);
        } else {
          deliveryLocalInputElement.setAttribute('required', true)

          deliveryAddressDivElement.classList.add('d-none');
          deliveryLocalDivElement.classList.remove('d-none');

          inputZipCodeElement.value = null;
          inputZipCodeElement.removeAttribute('required');

          streetElement.value = null;
          streetElement.removeAttribute('required');

          streetNumberElement.value = null;
          streetNumberElement.removeAttribute('required');

          streetComplementElement.value = null;
          streetComplementElement.removeAttribute('required');

          districtElement.value = null;
          districtElement.removeAttribute('required');

          cityElement.value = null;
          cityElement.removeAttribute('required');

          stateElement.value = null;
          stateElement.removeAttribute('required');
        }
      })
    }


    function getCompleteDeliveryInfo() {
      if (deliveryTypeElement && deliveryTypeElement.value === 'No Local') {
        return 'Mesa: *' + (deliveryLocalInputElement.value || cartTranslation.noInformation ) + '*%0a%0a';
      }
      return cartTranslation.cardZipCodeInputLabel + ' *' + (inputZipCodeElement.value || cartTranslation.noInformation) + '*%0a%0a'
        + cartTranslation.cardStreetInputLabel + ' *' + (streetElement.value || cartTranslation.noInformation) + '*%0a%0a'
        + cartTranslation.cardStreetNumberInputLabel + ' *' + (streetNumberElement.value || cartTranslation.noInformation) + '*%0a%0a'
        + cartTranslation.cardStreetComplementInputLabel + ' *' + (streetComplementElement.value || cartTranslation.noInformation) + '*%0a%0a'
        + cartTranslation.cardDistrictInputLabel + ' *' + (districtElement.value || cartTranslation.noInformation) + '*%0a%0a'
        + cartTranslation.cardCityInputLabel + ' *' + (cityElement.value || cartTranslation.noInformation) + '*%0a%0a'
        + cartTranslation.cardStateInputLabel + ' *' + (stateElement.value || cartTranslation.noInformation) + '*%0a%0a'
    }

    var valueFreightVerify;
    async function redirectToWpp() {
      const finishButton = document.getElementById('send-order')
        .innerText = cartTranslation.cartModalFinishLoadingButtonText

      const freights = ""
      if(freights.type == "fixed" || freights.type == "free" ||freights == "" || freights.active == false ||  deliveryType.value == 'No Local' || (freights != "" && valueFreightVerify != undefined)){
        const nameElement = document.getElementById('name');
        const name = nameElement && nameElement.value;

        const paymentType = document.getElementById('paymentType').value;

        const extraInfoElement = document.getElementById('extraInfo');
        const extraInfo = extraInfoElement && extraInfoElement.value;

        if(freights.type == "fixed" && deliveryType.value !== 'No Local' && freights.active == true) {
          document.getElementById('freights-price').innerText = cartTranslation.cardDeliveryTotalPriceLabel + " " + convertToCurrency(freights.price);
          totalPrice += parseFloat(freights.price);
          const newCartItem = {
            title: cartTranslation.cardDeliveryPriceMessageLabel,
            amount: 1,
            price: parseFloat(freights.price)
          }
          wppCart.push(newCartItem)
        }

        let wppText = cartTranslation.cardNameInputLabel + ' *' + (name || cartTranslation.noInformation) + '*%0a%0a'
          + cartTranslation.cardDeliveryTypeInputLabel + ' *' + (deliveryTypeElement && deliveryTypeElement.value || cartTranslation.noInformation) + '*%0a%0a'
          + getCompleteDeliveryInfo()
          + cartTranslation.cardPaymentTypeInputLabel + ' *' + (paymentType || cartTranslation.noInformation) + '*%0a%0a'
          + cartTranslation.cardExtraInfoInputLabel + ' *' + (extraInfo || 'Nenhuma') + '*%0a%0a'
          + cartTranslation.cardOrder + ' %0a' + getOrderText()
          + 'Total: *' + cardRender.currency + ' ' + totalPrice.toFixed(2).split('.').join(',')  + '*'

        let redirectWppLink = 'https://api.whatsapp.com/send?phone='
          + wppCartPhone
          + '&text='
          + wppText;
        window.localStorage.setItem("redirectWppLink", redirectWppLink);

        if (cardRender.cart && cardRender.cart.nextgo_orders_id && cardRender.cart.nextgo_orders_active) {
          const { orderId } = await sendToNextGoOrders();
          window.localStorage.setItem("orderId", orderId);

          if (deliveryTypeElement && deliveryTypeElement.value !== 'No Local') {
            const statusURL = nextGoOrdersURL + '/status/' + orderId;
            wppText += '%0a%0aLink para status do pedido: *' + statusURL + '*';
          }
        }

        const infoPayment = ""
        if(infoPayment.active == true){
          const { res } = await createPreference("Compra na " + infoPayment.title, location.href, location.href);
          await updateOrder(window.localStorage.orderId, 1, res.body.collector_id);
          window.location.href = res.response.init_point
        }
        else {
          window.location.href = 'https://api.whatsapp.com/send?phone='
          + wppCartPhone
          + '&text='
          + wppText.replace(/&/g,'%26')
        }
      }
      else {
        document.getElementById("error-freights-price").style.display = "block";
      }
    }
  </script>

  <script>
    function calculateFreights(){
      const freights = ""
      if(freights.type == "distance") {
        var service = new google.maps.DistanceMatrixService;
        service.getDistanceMatrix({
            origins: [freights.address],
            destinations: [streetElement.value + ", " + streetNumberElement.value + " - " + district.value + ", " + city.value + " - " + state.value + ", " + zipCode.value],
            travelMode: google.maps.TravelMode.DRIVING,
            unitSystem: google.maps.UnitSystem.METRIC,
            avoidHighways: false,
            avoidTolls: false
        }, function(response, status) {
            if (status !== google.maps.DistanceMatrixStatus.OK) {
            alert('Error was: ' + status);
            } else {
              const distanceValue = response.rows[0].elements[0].distance.value;
              const kmDistance = distanceValue / 1000;

              let valueFreight = Math.round(kmDistance * parseFloat(freights.price));
              valueFreight = valueFreight < parseFloat(freights.minimum_price) ? parseFloat(freights.minimum_price) : valueFreight
              valueFreightVerify = valueFreight;

              const newCartItem = {
                title: "Entrega",
                amount: 1,
                price: valueFreight
              }

              const lastFreight = wppCart.find(el => el.title === 'Entrega');
              if (lastFreight) {
                totalPrice -= lastFreight.price;
                wppCart = wppCart.filter(el => el.title !== 'Entrega');
              }

              totalPrice += valueFreight;
              wppCart.push(newCartItem)

              document.getElementById('freights-price').innerText = "Valor da entrega: " + convertToCurrency(valueFreight);
              document.getElementById('error-freights-price').style.display = "none";
            }
        });
      }
    }
  </script>

  <!-- Scripts categorias / produtos -->
  <script>
    const productCategory = ""

    function removeAllActive() {
      const list = document.querySelectorAll('#category-list [data-carousel-item]');
      const listElements = Array.from(list);

      listElements.forEach(el => {
        el.style.backgroundColor = productCategory.button_background_color || '#c7a643'
      });
    }

    function setActive(id) {
      const list = document.querySelectorAll('#category-list [data-carousel-item]');
      const listElements = Array.from(list);
      const items = listElements.filter(el => el.id === 'list' + '-' +id);

      items.forEach( item => {
        const backgroundColor = productCategory.button_background_color_active;
        item.style.backgroundColor = backgroundColor || '#213';
      });
    }

    function goToCategory(id) {
      removeAllActive();
      setActive(id);
      window.location.href = "#" + id;
    }

    if (productCategory) {
      const productsDivElement = document.querySelector('.products');
      const categoryListElement = document.getElementById('category-list');
      let productsFullScrollable = false;

      document.addEventListener('scroll', function(e) {
        productsFullScrollable = document.documentElement.scrollTop > (productsDivElement.offsetTop + productsDivElement.scrollHeight)

        if (productsFullScrollable) {
          categoryListElement.classList.remove('p-sticky');
          categoryListElement.classList.add('p-static');
        } else {
          categoryListElement.classList.remove('p-static');
          categoryListElement.classList.add('p-sticky');
        }
      });
    }
  </script>

  <script type="text/javascript">
    const openingHours = {
  "isOpen": true
}
    const openingHoursDiv = document.getElementById('opening-hours');

    function getDayOfWeekOpeningHourText({ dayOfWeek }) {
      const translatedDaysOfWeek = {
        'pt-br': {
          monday: 'Segunda',
          tuesday: 'Terça',
          wednesday: 'Quarta',
          thursday: 'Quinta',
          friday: 'Sexta',
          saturday: 'Sabado',
          sunday: 'Domingo'
        }
      }

      const translatedDayOfWeek = translatedDaysOfWeek[cartTranslation.language]
        && translatedDaysOfWeek[cartTranslation.language][dayOfWeek] || dayOfWeek;

      const workingHours = openingHours[dayOfWeek];

      if (!workingHours) return translatedDayOfWeek + ': - ';

      const hoursRanges = workingHours.split(',').map(el => el.trim());

      const filteredHoursRange = hoursRanges.map(hoursRange => {
        const [initialTime, finalTime] = hoursRange.split('-');

        const [initialHour, initialMinute] = initialTime.split(':');
        const [finalHour, finalMinute] = finalTime.split(':');

        return initialHour + ':' + (initialMinute || '00') +
          ' ' + cartTranslation.hoursConnective
          + finalHour + ':' + (finalMinute || '00')
      })

      return translatedDayOfWeek + ': ' + filteredHoursRange.join(' - ');
    }

    function addOpeningHourElement({ dayOfWeek }) {
      const pDayOfWeek = document.createElement('p');
      pDayOfWeek.innerText = getDayOfWeekOpeningHourText({ dayOfWeek })

      openingHoursDiv.append(pDayOfWeek);
    }

    if (!openingHours.isOpen) {
      document.getElementById('cart-close').classList.add('show');
      document.body.style.overflow = 'hidden';

      document.querySelector('.card-container').style.filter = 'blur(8px)';

      const daysOfWeek = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday']

      daysOfWeek.forEach(dayOfWeek => addOpeningHourElement({ dayOfWeek }))
    }
  </script>

  <script type="text/javascript">
    const apiURL = 'https://api.nextgocard.com.br'
    const nextGoOrdersURL = 'https://nextgoorders.com'

    async function sendToNextGoOrders() {

      const nameElement = document.getElementById('name');
      const name = nameElement && nameElement.value;

      const phone = document.getElementById('phone').value;
      const payment_type = document.getElementById('paymentType').value;

      const extraInfoElement = document.getElementById('extraInfo');
      const extra_info = extraInfoElement && extraInfoElement.value;

      const freightItem = wppCart.find(item => item.title === 'Entrega');

      let zip_code = inputZipCodeElement ? inputZipCodeElement.value: '';
      let street = streetElement ? streetElement.value : '';
      let street_number = streetNumberElement ? streetNumberElement.value : '';
      let district = districtElement ? districtElement.value : '';
      let city = cityElement ? cityElement.value : '';
      let streetComplement = streetComplementElement ? streetComplementElement.value : '';

      const response = await fetch(apiURL + '/card-render/' + cardRender.id + '/cart/order', {
        method: 'POST',
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          total_price: parseFloat(totalPrice.toFixed(2)),
          freight: (freightItem && freightItem.price) || 0,
          delivery_method: deliveryTypeElement.value,
          name,
          phone,
          zip_code,
          street,
          street_number,
          district,
          city,
          payment_type,
          extra_info,
          items: wppCart.filter((item) => item.title !== 'Entrega'),
          streetComplement,
        }),
      });

      return response.json();
    }
  </script>
  <script>
    async function updateOrder(uid, statusPedido, payment_id) {
      const response = await fetch(apiURL + '/cart/order/' + uid, {
        method: 'PATCH',
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
         orderId: uid,
         statusPedido: statusPedido,
         paymentId: payment_id,
        }),
      });

      return response.json();
    }
  </script>

  <script>
    var defaultLanguage = "pt";
    var currentLanguage = "pt";
    var languageFile = {
          "pt": {
            "approved": "Aprovado",
            "rejected": "Rejeitado",
            "pending": "Pendente",
          }
    }

    function getLanguageText(key, language) {
        try {
            return languageFile[getCurrentLanguage(language)][key];
        } catch (e) {
            return "Unknown text";
        }
    };

    function getCurrentLanguage(language) {
        try {
            if (language) {
                if (languageFile[language]) {
                    currentLanguage = language;
                } else {
                    return defaultLanguage;
                }
            }
        } catch (e) {}
        return currentLanguage;
    };
  </script>
  <script>
    const infoPayment = ""
    redirectToWppPaymant();
    async function redirectToWppPaymant() {
      var url_string = window.location.href
      var url = new URL(url_string);
      var sitePayment = url.searchParams.get("site_id");
      if(sitePayment == "MLB"){
        if(url.searchParams.get("status") == "approved") {
          const { resUpdateOrder } = await updateOrder(window.localStorage.orderId, 12, url.searchParams.get("payment_id"));
        }
        else {
          const { resUpdateOrder } = await updateOrder(window.localStorage.orderId, 11, url.searchParams.get("payment_id"));
        }
        var statusPayment = getLanguageText(url.searchParams.get("status"));
        var redirectWppLink = window.localStorage.redirectWppLink;
        redirectWppLink += "%0a%0a *N° do pedido no Mercado Pago: " + url.searchParams.get("payment_id") + "*";
        redirectWppLink += "%0a%0a *Status do pagamento: " + statusPayment + "*";
        window.location.href = redirectWppLink;
      }
      //const apiURL = 'https://api.nextgocard.com.br'
      const freightItem = wppCart.find(item => item.title === 'Entrega');
    }

    async function createPreference(title, redirectWppLink, redirectErrorLink) {
      const response = await fetch(apiURL + '/create-preference', {
        method: 'POST',
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          unit_price: parseFloat(totalPrice.toFixed(2)),
          title: title,
          access_token: infoPayment.access_token_prod,
          redirect_wpp_link: redirectWppLink,
          redirect_error_link: redirectErrorLink,
        }),
      });

      return response.json();
    }
  </script>
</body>
</html>
